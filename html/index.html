<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Michael Zochowski's Site</title>
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="author" content="">

  <!-- Font Awesome if you need it
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.10.2/css/all.css">
  -->
  <link href="https://unpkg.com/tailwindcss/dist/tailwind.min.css" rel="stylesheet">
  <!--Replace with your tailwind.css once created-->
  <link href="https://unpkg.com/@tailwindcss/custom-forms/dist/custom-forms.min.css" rel="stylesheet">
  <!--Tailwind Custom Forms - use to standardise form fields - https://github.com/tailwindcss/custom-forms-->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js" integrity="sha256-T/f7Sju1ZfNNfBh7skWn0idlCBcI3RwdLSS4/I7NQKQ=" crossorigin="anonymous"></script>

</head>

<body class="bg-grey-100 font-sans leading-normal tracking-normal mb-48">

  <div class="container mx-auto max-w-2xl">
    <h1 class="text-2xl font-bold text-indigo-500 mt-10">Hello World</h1>
    <p>Welcome to the zochow.ski nginx server block.</p>
    </br>
    <p class="text-xl mt-5 mb-2 text-gray-700">Pay me</p>
    <button onclick="getPayID()" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
        $zochow.ski/pay
    </button>
    <pre id="demo"></pre>
    <script>
    function getPayID() {
      axios({
        method: 'get',
        url: 'https://zochow.ski/pay',
        headers: {accept: 'application/xrpl-mainnet+json'}
      }).then(function (response) {
        document.getElementById('demo').innerHTML = JSON.stringify(response.data, null, 2);
      })
    }
    </script>


    <p class="text-xl mt-10 mb-2 text-gray-700">PayID -> URL</p>
    <script src="https://embed.runkit.com" data-element-id="payidresolve"></script>
    <div id="payidresolve">
    const tiny = require('tiny-secp256k1')
    const XpringCommonJS = require('xpring-common-js')
    const PayIDUtils = XpringCommonJS.PayIDUtils
    let paymentPointer = PayIDUtils.parsePaymentPointer('$pay.michael.zochow.ski')
    console.log("URL: https://" + paymentPointer.host + paymentPointer.path)
    </div>


    <p class="text-xl mt-10 mb-2 text-gray-700">PayID URL -> XRP Mainnet Address</p>
    <script src="https://embed.runkit.com" data-element-id="runkit-xrp-mainnet-url"></script>
    <div id="runkit-xrp-mainnet-url" >
    const axios = require("axios");
    const response = (await axios({
        method: 'get',
        url: 'https://pay.michael.zochow.ski/.well-known/pay',
        headers: {accept: 'application/xrpl-mainnet+json'}
      })).data
    </div>

    <p class="text-xl mt-10 mb-2 text-gray-700">PayID URL -> XRP Testnet Address</p>
    <script src="https://embed.runkit.com" data-element-id="runkit-xrp-testnet-url"></script>
    <div id="runkit-xrp-testnet-url" >
    const axios = require("axios");
    const response = (await axios({
        method: 'get',
        url: 'https://zochow.ski/pay',
        headers: {accept: 'application/xrpl-testnet+json'}
      })).data
    </div>


    <p class="text-xl mt-10 mb-2 text-gray-700">PayID -> XRP Mainnet Address</p>
    <script src="https://embed.runkit.com" data-element-id="runkit-xrp-mainnet-payid"></script>
    <div id="runkit-xrp-mainnet-payid" >
    const axios = require("axios");
    const tiny = require('tiny-secp256k1')
    const XpringCommonJS = require('xpring-common-js')
    const PayIDUtils = XpringCommonJS.PayIDUtils
    let paymentPointer = PayIDUtils.parsePaymentPointer('$pay.michael.zochow.ski')
    let PayIDURL = 'https://' + paymentPointer.host + paymentPointer.path
    const response = (await axios({
        method: 'get',
        url: PayIDURL,
        headers: {accept: 'application/xrpl-mainnet+json'}
      })).data
    </div>


    <p class="text-xl mt-10 mb-2 text-gray-700">XAddress Conversion Tool</p>
    <script src="https://embed.runkit.com" data-element-id="runkit-xaddress"></script>
    <div id="runkit-xaddress">
    const {Encode, Decode} = require('xrpl-tagged-address-codec')
    const tagged = Encode({ account: 'rUad1tgEacc3UaMwpPkHbBKbzEZbTKcKyw', tag: 495, test: true })
    console.log(tagged)
    const untagged = Decode(tagged)
    console.log(untagged)
    </div>
    <a href="https://xrpaddress.info/" target="_blank">xrpaddress.info</a>
    
  </div>


  <!-- jQuery if you need it
  <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
  -->

</body>

</html>

